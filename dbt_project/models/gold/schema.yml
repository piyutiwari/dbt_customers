version: 2

models:
  - name: gold_customer_metrics
    description: "Gold layer - Customer-level business metrics and KPIs"
    columns:
      - name: customer_id
        description: "Unique customer identifier"
        tests:
          - unique
          - not_null
      - name: customer_name
        description: "Customer name"
      - name: email
        description: "Customer email"
      - name: email_domain
        description: "Email domain for segmentation"
      - name: total_orders
        description: "Total number of orders placed by customer"
      - name: total_revenue
        description: "Total revenue generated by customer"
      - name: avg_order_value
        description: "Average order value for customer"
      - name: first_order_date
        description: "Date of first order"
      - name: last_order_date
        description: "Date of most recent order"
      - name: customer_lifetime_days
        description: "Days since first order"
      - name: is_active
        description: "Customer activity status"
      - name: aggregated_at
        description: "Timestamp when metrics were aggregated"

  - name: gold_daily_revenue
    description: "Gold layer - Daily revenue aggregations"
    columns:
      - name: order_date
        description: "Order date"
        tests:
          - unique
          - not_null
      - name: total_orders
        description: "Total orders for the day"
      - name: total_revenue
        description: "Total revenue for the day"
      - name: avg_order_value
        description: "Average order value for the day"
      - name: unique_customers
        description: "Number of unique customers who ordered"
      - name: aggregated_at
        description: "Timestamp when metrics were aggregated"
